"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[102],{5649:function(n,e,r){r.d(e,{XT:function(){return o},Zx:function(){return p},cI:function(){return f},kh:function(){return l},v9:function(){return h}});var t=r(5861),a=r(4687),c=r.n(a),u=r(4569),i=r.n(u),s="152aa9c1fb200c1c42a40b69b3af0ad5";i().defaults.baseURL="https://api.themoviedb.org/3";var o=function(){var n=(0,t.Z)(c().mark((function n(){var e,r;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i().get("/trending/all/day?api_key=".concat(s));case 2:return e=n.sent,r=e.data,n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),p=function(){var n=(0,t.Z)(c().mark((function n(e){var r,t;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i().get("/movie/".concat(e,"?api_key=").concat(s,"&language=en-US"));case 2:return r=n.sent,t=r.data,n.abrupt("return",t);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),f=function(){var n=(0,t.Z)(c().mark((function n(e){var r,t;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i().get("/movie/".concat(e,"/credits?api_key=").concat(s,"&language=en-US"));case 2:return r=n.sent,t=r.data,n.abrupt("return",t);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),l=function(){var n=(0,t.Z)(c().mark((function n(e){var r;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i().get("/movie/".concat(e,"/reviews?api_key=").concat(s,"&language=en-US"));case 2:return r=n.sent,n.abrupt("return",r);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),h=function(){var n=(0,t.Z)(c().mark((function n(e){var r;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i().get("/search/movie?api_key=".concat(s,"&query=").concat(e,"&language=en-US&page=1&include_adult=false"));case 2:return r=n.sent,n.abrupt("return",r);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},6102:function(n,e,r){r.r(e),r.d(e,{default:function(){return k}});var t,a,c=r(1413),u=r(5861),i=r(885),s=r(4687),o=r.n(s),p=r(2791),f=r(501),l=r(6871),h=r(5649),d=r(2956),v=r(4942),g=r(184),m=function(n){var e=n.onSubmit,r=(0,p.useState)({search:""}),t=(0,i.Z)(r,2),a=t[0],u=t[1];return(0,g.jsxs)("form",{onSubmit:function(n){n.preventDefault(),e((0,c.Z)({},a)),u({search:""})},children:[(0,g.jsx)("input",{name:"search",value:a.search,onChange:function(n){var e=n.target,r=e.name,t=e.value;u((0,c.Z)((0,c.Z)({},a),{},(0,v.Z)({},r,t)))},placeholder:"Search Film",required:!0}),(0,g.jsx)("button",{type:"submit",children:"Search"}),(0,g.jsx)("ul",{})]})},x=r(168),Z=r(1993),w=Z.Z.ul(t||(t=(0,x.Z)(["\nmin-width: 280px;\n    flex-wrap: wrap;\n    display: flex;\n    list-style: none;\n    padding: 0;\n"]))),b=Z.Z.li(a||(a=(0,x.Z)(["\nmax-width:300px;\nmargin-right:10px\n"]))),k=function(){var n=(0,p.useState)({items:[],loading:!1,error:null}),e=(0,i.Z)(n,2),r=e[0],t=e[1],a=(0,l.TH)(),s=(0,f.lr)(),v=(0,i.Z)(s,2),x=v[0],Z=v[1],k=x.get("search");(0,p.useEffect)((function(){var n=function(){var n=(0,u.Z)(o().mark((function n(){var e,r;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t((function(n){return(0,c.Z)((0,c.Z)({},n),{},{loading:!0})})),n.next=4,(0,h.v9)(k);case 4:e=n.sent,r=e.data,t((function(n){return(0,c.Z)((0,c.Z)({},n),{},{items:r.results})})),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),t((function(e){return(0,c.Z)((0,c.Z)({},e),{},{error:n.t0})}));case 12:return n.prev=12,t((function(n){return(0,c.Z)((0,c.Z)({},n),{},{loading:!1})})),n.finish(12);case 15:case"end":return n.stop()}}),n,null,[[0,9,12,15]])})));return function(){return n.apply(this,arguments)}}();k&&n()}),[k]);var j=r.items,y=r.loading,_=r.error,S=j.map((function(n){var e=n.id,r=n.original_title,t=n.poster_path,c=n.name;return(0,g.jsx)("div",{children:(0,g.jsx)(f.rU,{state:{from:a},to:"/movies/".concat(e),children:(0,g.jsxs)(b,{children:[t?(0,g.jsx)("img",{src:"https://image.tmdb.org/t/p/w300/".concat(t),alt:""}):(0,g.jsx)("img",{src:d,alt:"",width:"90",height:"135"}),(0,g.jsx)("h2",{children:r||c})]})},e)},e)}));return(0,g.jsxs)("div",{children:[y&&(0,g.jsx)("p",{children:"...Loading"}),_&&(0,g.jsx)("p",{children:"Error"}),(0,g.jsx)(m,{onSubmit:function(n){var e=n.search;Z({search:e})}}),(0,g.jsx)(w,{children:j.length>0&&S})]})}},2956:function(n,e,r){n.exports=r.p+"static/media/no-picture-available-icon-20.63063464ad12ac2eb45f.jpeg"}}]);
//# sourceMappingURL=102.89c3f123.chunk.js.map